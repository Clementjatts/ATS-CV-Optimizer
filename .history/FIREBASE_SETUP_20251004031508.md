# Firebase Setup Guide for ATS CV Optimizer

## 1. Create a Firebase Project

1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Click "Create a project" or "Add project"
3. Enter your project name (e.g., "ats-cv-optimizer")
4. Choose whether to enable Google Analytics (optional)
5. Click "Create project"

## 2. Enable Firestore Database

1. In your Firebase project, go to "Firestore Database" in the left sidebar
2. Click "Create database"
3. Choose "Start in test mode" for development (you can secure it later)
4. Select a location for your database (choose the closest to your users)
5. Click "Done"

## 3. Enable Firebase Storage

1. In your Firebase project, go to "Storage" in the left sidebar
2. Click "Get started"
3. Choose "Start in test mode" for development (you can secure it later)
4. Select a location for your storage (choose the same as your database)
5. Click "Done"

## 4. Get Firebase Configuration

1. In your Firebase project, click the gear icon (⚙️) next to "Project Overview"
2. Select "Project settings"
3. Scroll down to "Your apps" section
4. Click the web icon (</>) to add a web app
5. Enter an app nickname (e.g., "ATS CV Optimizer Web")
6. Click "Register app"
7. Copy the Firebase configuration object

## 5. Update Firebase Configuration

Replace the placeholder values in `firebaseConfig.ts` with your actual Firebase configuration:

```typescript
const firebaseConfig = {
  apiKey: "your-actual-api-key",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-actual-project-id",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "your-actual-sender-id",
  appId: "your-actual-app-id"
};
```

## 6. Set Up Security Rules

### Firestore Security Rules

Go to **Firestore Database** → **Rules** and replace the default rules with:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow read/write access to all documents for authenticated users
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

**Note**: This is a permissive rule for development. For production, implement more specific rules.

### Firebase Storage Security Rules

Go to **Storage** → **Rules** and replace the default rules with:

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // Allow authenticated users to upload and manage files
    match /{allPaths=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

**Note**: This allows authenticated users to upload and manage files. For production, consider more restrictive rules.

## 7. Database Schema

The application will automatically create the following collections:

### `saved_cvs` Collection (Optimized CVs)
Each document contains:
- `name`: string - Display name for the CV
- `content`: string - JSON stringified CV data
- `jobTitle`: string (optional) - Job title associated with the CV
- `company`: string (optional) - Company name
- `industry`: string (optional) - Industry sector
- `skills`: array of strings - Skills extracted from the CV
- `experience`: array of strings - Job titles from work experience
- `education`: array of strings - Educational institutions
- `tags`: array of strings - User-defined tags
- `description`: string (optional) - Description of the CV
- `createdAt`: timestamp - When the CV was saved
- `updatedAt`: timestamp - When the CV was last modified

### `uploaded_files` Collection (Original CV Files)
Each document contains:
- `fileName`: string - Original filename
- `fileType`: string - MIME type (e.g., "application/pdf", "application/vnd.openxmlformats-officedocument.wordprocessingml.document")
- `fileSize`: number - File size in bytes
- `downloadURL`: string - Firebase Storage download URL
- `storagePath`: string - Path in Firebase Storage
- `uploadedAt`: timestamp - When the file was uploaded
- `tags`: array of strings - User-defined tags
- `description`: string (optional) - Description of the file

## 8. Features Enabled

With Firebase integration, you can now:

### Save CVs
- Save optimized CVs to your personal database (manual action)
- Add metadata like job title, company, industry, and tags
- Organize CVs for different roles and industries

### Auto-Save Uploaded Files
- Uploaded CV files (PDF/DOCX) are automatically saved to Firebase Storage
- Files are stored with metadata in Firestore for easy management
- No manual action required - happens automatically when you upload

### Select from Database
- Choose from previously saved optimized CVs OR uploaded files
- Search and filter CVs by job title, industry, skills, and tags
- View CV details before selection
- Two separate tabs: "Optimized CVs" and "Uploaded Files"

### Smart CV Selection
- If no CV is uploaded or selected, the system automatically finds the most relevant CV from your database based on the job description
- Uses keyword matching and relevance scoring

### CV Management
- View all saved CVs and uploaded files in a beautiful grid layout
- Search and filter your CV collection
- Delete CVs or files you no longer need
- Download original uploaded files
- See when each CV was last updated

## 9. Usage Tips

1. **Save Successful CVs**: After optimizing a CV, click "Save to Database" to store it for future use
2. **Upload Files**: Uploaded CV files are automatically saved to Firebase Storage - no manual action needed
3. **Use Descriptive Names**: Give your CVs meaningful names like "Software Engineer - Tech Company" or "Marketing Manager - Healthcare"
4. **Add Tags**: Use tags to categorize CVs by skills, industries, or job types
5. **Regular Cleanup**: Periodically review and delete outdated CVs and files to keep your database organized
6. **Download Originals**: You can always download the original uploaded files from the "Uploaded Files" tab

## 10. Troubleshooting

### Common Issues:
- **Firebase not initialized**: Check that your Firebase configuration is correct
- **Permission denied**: Ensure Firestore and Storage rules allow read/write access
- **Network errors**: Check your internet connection and Firebase project status
- **File upload fails**: Check Firebase Storage rules and ensure Storage is enabled
- **Import errors**: Make sure Firebase SDK is properly installed (`npm install firebase`)

### Development vs Production:
- **Development**: Use test mode for easy setup
- **Production**: Implement proper authentication and security rules

## 11. Next Steps

Once Firebase is set up:
1. Test the CV saving functionality
2. Try uploading CV files (they'll auto-save to Storage)
3. Try selecting CVs from the database (both optimized and uploaded)
4. Experiment with the smart CV selection feature
5. Test file download functionality
6. Customize the CV management interface as needed

Your ATS CV Optimizer now has a powerful database backend for managing your CV collection with both optimized CVs and original uploaded files!
